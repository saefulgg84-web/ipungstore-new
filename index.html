<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOKO PANEL IPUNGG</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
body { background: #111; color: white; }
.card { background: #1c1c1c; border: 1px solid #333; }
.drawer { position: fixed; top: 0; right: -310px; width: 310px; height: 100%; background:#181818; padding:20px; transition:.4s; z-index:999; }
.drawer.open { right: 0; }
.drawer a { display:block; padding:12px; border-radius:7px; margin-bottom:10px; text-decoration:none; color:white; }
.social-wa { background:#25D366; }
.social-tg { background:#1D9BF0; }
.logo-welcome { width:110px; border-radius:12px; margin-bottom:10px; }
</style>
</head>
<body>

<nav class="navbar bg-dark px-3">
  <span class="navbar-brand text-white fw-bold">TOKO PANEL IPUNGG</span>
  <button class="btn btn-outline-light" onclick="toggleDrawer()">‚ãÆ</button>
</nav>

<!-- Sambutan -->
<div class="container">
  <div class="text-center mt-3 mb-4 p-3" style="background:#181818; border:1px solid #333; border-radius:10px;">
    <img src="https://img1.pixhost.to/images/10698/668959036_lyrra-md.jpg" class="logo-welcome">
    <h4 class="fw-bold">Selamat Datang di TOKO PANEL IPUNGG</h4>
    <p class="text-white-50 mb-0">Silakan pilih panel sesuai kebutuhan Anda. Pembayaran otomatis melalui QRIS.</p>
  </div>

  <div class="row" id="productList"></div>
</div>

<!-- Drawer -->
<div id="drawer" class="drawer">
  <h4 class="text-white mb-3">Pusat Bantuan</h4>
  <a class="social-wa" href="https://wa.me/6283840810226" target="_blank">üí¨ WhatsApp Admin</a>
  <a class="social-tg" href="https://t.me/ipung_brye" target="_blank">üì® Telegram Admin</a>
</div>

<!-- Modal Pilihan Bayar -->
<div class="modal fade" id="payChoice" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark text-white text-center">
      <div class="modal-header"><h5 class="modal-title">Pilih Metode Pembayaran</h5></div>
      <div class="modal-body">
        <button class="btn btn-primary w-100 mb-2" onclick="openQris()">üí≥ Bayar QRIS</button>
        <a id="payVa" class="btn btn-success w-100">üèß Transfer Manual & Chat Admin</a>
      </div>
    </div>
  </div>
</div>

<!-- Modal QRIS -->
<div class="modal fade" id="qrisModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header"><h5 id="payTitle"></h5></div>
      <div class="modal-body">
        <p>Scan QRIS untuk pembayaran:</p>
        <img id="qrisImg" class="w-100 rounded mb-3">
        <p class="text-warning mb-0">Setelah bayar, klik tombol WhatsApp di bawah.</p>
      </div>
      <div class="modal-footer">
        <a id="waLink" class="btn btn-success w-100" target="_blank">Kirim Bukti ke WhatsApp</a>
      </div>
    </div>
  </div>
</div>

<script>
function toggleDrawer(){ document.getElementById("drawer").classList.toggle("open"); }

// produk list + gambar final
const imgNew = "https://img1.pixhost.to/images/10698/668955099_lyrra-md.jpg";

const products = [
  {id:1, name:'PANEL RAM 1GB', price:1000},
  {id:2, name:'PANEL RAM 2GB', price:2000},
  {id:3, name:'PANEL RAM 3GB', price:3000},
  {id:4, name:'PANEL RAM 4GB', price:4000},
  {id:5, name:'PANEL RAM 5GB', price:5000},
  {id:6, name:'PANEL RAM 6GB', price:6000},
  {id:7, name:'PANEL RAM 7GB', price:7000},
  {id:8, name:'PANEL RAM 8GB', price:8000},
  {id:9, name:'PANEL RAM 9GB', price:9000},
  {id:10, name:'PANEL RAM UNLIMITED', price:10000},
];

const qrisImgUrl = "https://img1.pixhost.to/images/10697/668950921_lyrra-md.png";

const box = document.getElementById("productList");
products.forEach(p=>{
  box.innerHTML += `
    <div class="col-6 col-md-3 mb-4">
      <div class="card p-2 text-center">
        <img src="${imgNew}" class="w-100 rounded mb-2">
        <h6>${p.name}</h6>
        <p class="text-success fw-bold">Rp ${p.price.toLocaleString()}</p>
        <button class="btn btn-primary w-100" onclick="pay(${p.id})">Beli</button>
      </div>
    </div>`;
});

let selectedProduct = null;
function pay(id){
  selectedProduct = products.find(x => x.id === id);
  document.getElementById("payVa").href = "https://wa.me/6283840810226?text=" + encodeURIComponent("Halo kak, saya mau beli " + selectedProduct.name);
  new bootstrap.Modal(document.getElementById("payChoice")).show();
}

function openQris(){
  document.getElementById("payTitle").innerHTML = selectedProduct.name;
  document.getElementById("qrisImg").src = qrisImgUrl;
  document.getElementById("waLink").href = "https://wa.me/6283840810226?text=" + encodeURIComponent("MIN SAYA MAU KIRIM BUKTI UNTUK PEMBELIAN " + selectedProduct.name);
  new bootstrap.Modal(document.getElementById("qrisModal")).show();
}

/* üî• FIX FINAL ‚Äî keluar modal = kembali ke dashboard */
function backToDashboard(){
  document.getElementById("productList").scrollIntoView({ behavior:"smooth" });
}
document.getElementById("payChoice").addEventListener("hidden.bs.modal", backToDashboard);
document.getElementById("qrisModal").addEventListener("hidden.bs.modal", backToDashboard);
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
